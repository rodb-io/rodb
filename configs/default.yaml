sources:
  defaultSource:
    filesystem:
      path: ./
  # TODO S3 source
  # TODO http source
inputs:
  defaultInput:
    csv:
      source: defaultSource
      path: ./dummy.csv
      ignoreFirstRow: true
      delimiter: ","
      columns:
        - name: id
          type: integer
          ignoreCharacters: ", .â‚¬$"
        - name: name
          type: string
        - name: number
          type: float
          decimalSeparator: "."
          ignoreCharacters: ", "
        - name: bool
          type: boolean
          trueValues: ["true", "1", "yes", "TRUE", "YES"]
          falseValues: ["false", "0", "no", "FALSE", "NO", ""]
  # TODO xml input
  # TODO json input
  # TODO json rows input
  # TODO database source/input?
indexes:
  defaultIndex:
    memoryMap:
      input: defaultInput
      columns:
        - id
        - name
  # TODO stored indexes (bson or msgpack?)
  # TODO bleve index
  # TODO lucene index
services:
  defaultService:
    http:
      port: 80
  # TODO https service
  # TODO websocket service
outputs:
  defaultGraphqlOutput:
    graphql:
      service: defaultService
      endpoint: "/"
      # TODO configuration
  # TODO have the dumb index as a default value if no index is specified
  defaultJsonArrayOutput:
    jsonArray:
      service: defaultService
      endpoint: "/dummies"
      limit:
        default: 100
        max: 1000
        param: "limit"
      offset:
        param: "offset"
      search:
        id:
          index: defaultIndex
        name:
          index: defaultIndex
        # TODO handle the filters even without index (basic search)
  defaultJsonObjectOutput:
    jsonObject:
      service: defaultService
      endpoint: "/dummies/?"
      index: defaultIndex
      # TODO handle this even without index (basic search)
